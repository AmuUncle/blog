{"title":"使用Qt开发一个搜索框","type":"page","uid":"ae57a8f4e64d446730a56f3361cae372","text":"使用Qt开发一个搜索框在许多应用程序中，我们需要提供一个搜索框来让用户快速查找内容。在本文中，我们将介绍如何使用Qt创建一个简单的内嵌式搜索框和搜索按钮，并演示如何获取用户输入和执行搜索操作。 创建搜索框和搜索按钮首先，我们需要创建一个QWidget部件，并将其布局为水平布局。然...","date":"2021-10-04T03:34:06.000Z","updated":"2023-05-19T05:34:19.709Z","comments":true,"path":"api/pages/images/posts/Qt/基础教程/使用Qt开发一个搜索框.json","covers":null,"excerpt":"","content":"<h1 id=\"使用Qt开发一个搜索框\"><a href=\"#使用Qt开发一个搜索框\" class=\"headerlink\" title=\"使用Qt开发一个搜索框\"></a>使用Qt开发一个搜索框</h1><p>在许多应用程序中，我们需要提供一个搜索框来让用户快速查找内容。在本文中，我们将介绍如何使用Qt创建一个简单的内嵌式搜索框和搜索按钮，并演示如何获取用户输入和执行搜索操作。</p>\n<h2 id=\"创建搜索框和搜索按钮\"><a href=\"#创建搜索框和搜索按钮\" class=\"headerlink\" title=\"创建搜索框和搜索按钮\"></a>创建搜索框和搜索按钮</h2><p>首先，我们需要创建一个QWidget部件，并将其布局为水平布局。然后，我们可以向该布局添加一个QLineEdit对象和一个QPushButton对象，以创建搜索框和搜索按钮。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">QWidget *searchWidget = <span class=\"keyword\">new</span> <span class=\"built_in\">QWidget</span>();</span><br><span class=\"line\">QHBoxLayout *layout = <span class=\"keyword\">new</span> <span class=\"built_in\">QHBoxLayout</span>(searchWidget);</span><br><span class=\"line\"></span><br><span class=\"line\">QLineEdit *lineEdit = <span class=\"keyword\">new</span> <span class=\"built_in\">QLineEdit</span>();</span><br><span class=\"line\">QPushButton *searchButton = <span class=\"keyword\">new</span> <span class=\"built_in\">QPushButton</span>(<span class=\"string\">&quot;Search&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">layout-&gt;<span class=\"built_in\">addWidget</span>(lineEdit);</span><br><span class=\"line\">layout-&gt;<span class=\"built_in\">addWidget</span>(searchButton);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"获取用户输入并执行搜索操作\"><a href=\"#获取用户输入并执行搜索操作\" class=\"headerlink\" title=\"获取用户输入并执行搜索操作\"></a>获取用户输入并执行搜索操作</h2><p>为了获取用户在搜索框中输入的文本，我们需要连接QLineEdit的textChanged()信号，并将其发送到一个槽函数。在该函数中，我们可以获取文本并存储它，以备搜索时使用。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">connect</span>(lineEdit, &amp;QLineEdit::textChanged, <span class=\"keyword\">this</span>, &amp;MyClass::onSearchTextChanged);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">MyClass::onSearchTextChanged</span><span class=\"params\">(<span class=\"type\">const</span> QString &amp;text)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    m_searchText = text;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>要执行搜索操作，我们只需将QPushButton的clicked()信号连接到一个槽函数即可。在该函数中，我们可以使用存储的搜索文本执行搜索操作。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">connect</span>(searchButton, &amp;QPushButton::clicked, <span class=\"keyword\">this</span>, &amp;MyClass::onSearchClicked);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">MyClass::onSearchClicked</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 执行搜索操作</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"完整代码示例\"><a href=\"#完整代码示例\" class=\"headerlink\" title=\"完整代码示例\"></a>完整代码示例</h2><p>下面是一个完整的代码示例，用于演示如何创建一个内嵌式搜索框和搜索按钮，并获取用户输入和执行搜索操作：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;QApplication&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;QWidget&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;QHBoxLayout&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;QLineEdit&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;QPushButton&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;QDebug&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyClass</span> : <span class=\"keyword\">public</span> QWidget</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Q_OBJECT</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">MyClass</span>(QWidget *parent = <span class=\"literal\">nullptr</span>) : <span class=\"built_in\">QWidget</span>(parent)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建搜索框和搜索按钮</span></span><br><span class=\"line\">        QWidget *searchWidget = <span class=\"keyword\">new</span> <span class=\"built_in\">QWidget</span>();</span><br><span class=\"line\">        QHBoxLayout *layout = <span class=\"keyword\">new</span> <span class=\"built_in\">QHBoxLayout</span>(searchWidget);</span><br><span class=\"line\"></span><br><span class=\"line\">        QLineEdit *lineEdit = <span class=\"keyword\">new</span> <span class=\"built_in\">QLineEdit</span>();</span><br><span class=\"line\">        QPushButton *searchButton = <span class=\"keyword\">new</span> <span class=\"built_in\">QPushButton</span>(<span class=\"string\">&quot;Search&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        layout-&gt;<span class=\"built_in\">addWidget</span>(lineEdit);</span><br><span class=\"line\">        layout-&gt;<span class=\"built_in\">addWidget</span>(searchButton);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 连接信号和槽函数</span></span><br><span class=\"line\">        <span class=\"built_in\">connect</span>(lineEdit, &amp;QLineEdit::textChanged, <span class=\"keyword\">this</span>, &amp;MyClass::onSearchTextChanged);</span><br><span class=\"line\">        <span class=\"built_in\">connect</span>(searchButton, &amp;QPushButton::clicked, <span class=\"keyword\">this</span>, &amp;MyClass::onSearchClicked);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 显示搜索框和搜索按钮</span></span><br><span class=\"line\">        <span class=\"built_in\">setLayout</span>(layout);</span><br><span class=\"line\">        <span class=\"built_in\">show</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> slots:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">onSearchTextChanged</span><span class=\"params\">(<span class=\"type\">const</span> QString &amp;text)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        m_searchText = text;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">onSearchClicked</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">qDebug</span>() &lt;&lt; <span class=\"string\">&quot;Searching for:&quot;</span> &lt;&lt; m_searchText;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    QString m_searchText;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"type\">int</span> argc, <span class=\"type\">char</span> *argv[])</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"function\">QApplication <span class=\"title\">a</span><span class=\"params\">(argc, argv)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    MyClass myClass;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> a.<span class=\"built_in\">exec</span>();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>在本文中，我们介绍了如何使用Qt创建一个内嵌式搜索框和搜索按钮，并演示了如何获取用户输入和执行搜索操作。这是一个简单而有用的界面元素，可以方便地提供搜索功能并提高用户体验。## 拓展</p>\n<p>在上述示例中，我们只是简单地演示了如何创建一个内嵌式搜索框和搜索按钮，并获取用户输入和执行搜索操作。但实际应用中，我们可能需要更加复杂的功能和交互体验。</p>\n<p>以下是一些可以拓展和优化的方向：</p>\n<ul>\n<li>在QLineEdit中使用占位符文本（placeholder text）或默认文本（default text）来提示用户输入。</li>\n<li>为搜索按钮添加快捷键（例如Enter键），以方便用户进行搜索。</li>\n<li>在搜索过程中显示进度指示器（例如旋转的等待图标），以提示用户搜索正在进行中。</li>\n<li>实现自动补全（autocomplete）或联想搜索（suggestion search）功能，以提高搜索的准确性和效率。</li>\n<li>支持多种搜索模式（例如精确搜索、模糊搜索、正则表达式搜索等）和高级选项，以满足不同用户的需求。</li>\n<li>结合其他界面元素（例如QListView、QTableWidget等）来展示搜索结果，并提供相关的操作和交互。</li>\n</ul>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><ul>\n<li>Qt Documentation: QLineEdit Class</li>\n<li>Qt Documentation: QPushButton Class## 代码示例</li>\n</ul>\n<p>以下是一个简单的代码示例，演示了如何使用Qt创建一个内嵌式搜索框和搜索按钮，并获取用户输入和执行搜索操作：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;QApplication&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;QWidget&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;QHBoxLayout&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;QLineEdit&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;QPushButton&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;QDebug&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">SearchWidget</span> : <span class=\"keyword\">public</span> QWidget</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Q_OBJECT</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">SearchWidget</span>(QWidget *parent = <span class=\"literal\">nullptr</span>) : <span class=\"built_in\">QWidget</span>(parent)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建搜索框和搜索按钮</span></span><br><span class=\"line\">        QLineEdit *lineEdit = <span class=\"keyword\">new</span> <span class=\"built_in\">QLineEdit</span>();</span><br><span class=\"line\">        QPushButton *searchButton = <span class=\"keyword\">new</span> <span class=\"built_in\">QPushButton</span>(<span class=\"string\">&quot;Search&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 创建水平布局</span></span><br><span class=\"line\">        QHBoxLayout *layout = <span class=\"keyword\">new</span> <span class=\"built_in\">QHBoxLayout</span>();</span><br><span class=\"line\">        layout-&gt;<span class=\"built_in\">addWidget</span>(lineEdit);</span><br><span class=\"line\">        layout-&gt;<span class=\"built_in\">addWidget</span>(searchButton);</span><br><span class=\"line\">        <span class=\"built_in\">setLayout</span>(layout);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 连接信号和槽函数</span></span><br><span class=\"line\">        <span class=\"built_in\">connect</span>(lineEdit, &amp;QLineEdit::textChanged, <span class=\"keyword\">this</span>, &amp;SearchWidget::onSearchTextChanged);</span><br><span class=\"line\">        <span class=\"built_in\">connect</span>(searchButton, &amp;QPushButton::clicked, <span class=\"keyword\">this</span>, &amp;SearchWidget::onSearchClicked);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">signals:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">searchRequested</span><span class=\"params\">(<span class=\"type\">const</span> QString &amp;text)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> slots:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">onSearchTextChanged</span><span class=\"params\">(<span class=\"type\">const</span> QString &amp;text)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        m_searchText = text;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">onSearchClicked</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"function\">emit <span class=\"title\">searchRequested</span><span class=\"params\">(m_searchText)</span></span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    QString m_searchText;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MainWindow</span> : <span class=\"keyword\">public</span> QWidget</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    Q_OBJECT</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">MainWindow</span>(QWidget *parent = <span class=\"literal\">nullptr</span>) : <span class=\"built_in\">QWidget</span>(parent)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 创建搜索部件</span></span><br><span class=\"line\">        m_searchWidget = <span class=\"keyword\">new</span> <span class=\"built_in\">SearchWidget</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 创建标签和文本编辑器</span></span><br><span class=\"line\">        QLabel *label = <span class=\"keyword\">new</span> <span class=\"built_in\">QLabel</span>(<span class=\"string\">&quot;Search Result:&quot;</span>);</span><br><span class=\"line\">        m_textEdit = <span class=\"keyword\">new</span> <span class=\"built_in\">QTextEdit</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 创建垂直布局</span></span><br><span class=\"line\">        QVBoxLayout *layout = <span class=\"keyword\">new</span> <span class=\"built_in\">QVBoxLayout</span>();</span><br><span class=\"line\">        layout-&gt;<span class=\"built_in\">addWidget</span>(m_searchWidget);</span><br><span class=\"line\">        layout-&gt;<span class=\"built_in\">addWidget</span>(label);</span><br><span class=\"line\">        layout-&gt;<span class=\"built_in\">addWidget</span>(m_textEdit);</span><br><span class=\"line\">        <span class=\"built_in\">setLayout</span>(layout);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 连接信号和槽函数</span></span><br><span class=\"line\">        <span class=\"built_in\">connect</span>(m_searchWidget, &amp;SearchWidget::searchRequested, <span class=\"keyword\">this</span>, &amp;MainWindow::onSearchRequested);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span> slots:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">onSearchRequested</span><span class=\"params\">(<span class=\"type\">const</span> QString &amp;text)</span></span></span><br><span class=\"line\"><span class=\"function\">    </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// <span class=\"doctag\">TODO:</span> 执行搜索操作并更新m_textEdit的内容</span></span><br><span class=\"line\">        <span class=\"built_in\">qDebug</span>() &lt;&lt; <span class=\"string\">&quot;Searching for:&quot;</span> &lt;&lt; text;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    SearchWidget *m_searchWidget;</span><br><span class=\"line\">    QTextEdit *m_textEdit;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">(<span class=\"type\">int</span> argc, <span class=\"type\">char</span> *argv[])</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"function\">QApplication <span class=\"title\">a</span><span class=\"params\">(argc, argv)</span></span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    MainWindow mainWindow;</span><br><span class=\"line\">    mainWindow.<span class=\"built_in\">show</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> a.<span class=\"built_in\">exec</span>();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在该代码示例中，我们使用了两个自定义部件：SearchWidget和MainWindow。SearchWidget是一个包含搜索框和搜索按钮的部件，用于获取用户输入和发出搜索请求；而MainWindow则展示了搜索结果并提供了相应的布局。</p>\n<h2 id=\"总结-1\"><a href=\"#总结-1\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>在本文中，我们介绍了如何使用Qt创建一个简单的内嵌式搜索框和搜索按钮，并获取用户输入和执行搜索操作。通过将搜索框和搜索按钮组合起来，我们可以方便地添加搜索功能，并提高用户体验。另外，我们还介绍了一些可以拓展和优化的方向，包括使用占位符文本、添加快捷键、显示进度指示器、实现自动补全等。这些功能可以根据具体需求进行定制和实现，以提供更好的搜索体验。</p>\n<p>在实际应用中，搜索功能通常是一个非常重要的界面元素，涉及到用户体验和性能等多个方面。因此，我们需要仔细考虑搜索算法的复杂度、搜索结果的呈现方式、搜索操作的并发性等问题，以保证搜索功能的稳定性和可靠性。</p>\n<p>最后，Qt提供了许多相关的组件和类，如QLineEdit、QPushButton、QLabel、QTextEdit等，可以方便地创建和管理用户界面元素。结合信号和槽机制，我们可以轻松地实现各种交互和事件处理，使得搜索功能更加灵活和可扩展。</p>\n<h2 id=\"参考资料-1\"><a href=\"#参考资料-1\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><ul>\n<li>Qt Documentation: QLineEdit Class</li>\n<li>Qt Documentation: QPushButton Class</li>\n<li>Qt Documentation: QLabel Class</li>\n<li>Qt Documentation: QTextEdit Class</li>\n</ul>\n","count_time":{"symbolsCount":"6.1k","symbolsTime":"6 mins."},"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8Qt%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E6%90%9C%E7%B4%A2%E6%A1%86\"><span class=\"toc-text\">使用Qt开发一个搜索框</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E6%90%9C%E7%B4%A2%E6%A1%86%E5%92%8C%E6%90%9C%E7%B4%A2%E6%8C%89%E9%92%AE\"><span class=\"toc-text\">创建搜索框和搜索按钮</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%E5%B9%B6%E6%89%A7%E8%A1%8C%E6%90%9C%E7%B4%A2%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">获取用户输入并执行搜索操作</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B\"><span class=\"toc-text\">完整代码示例</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">总结</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99\"><span class=\"toc-text\">参考资料</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93-1\"><span class=\"toc-text\">总结</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99-1\"><span class=\"toc-text\">参考资料</span></a></li></ol></li></ol>","data":[]}