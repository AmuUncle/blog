{"title":"Windows编程基础--第1节  第一个win32软件","uid":"c9371cf78a705f43f8740427c79cb17f","slug":"MFC/MFC01","date":"2017-10-28T14:42:12.000Z","updated":"2023-05-19T05:34:19.701Z","comments":true,"path":"api/articles/MFC/MFC01.json","keywords":null,"cover":[],"content":"<h1 id=\"Windows编程基础–第1节-第一个win32软件\"><a href=\"#Windows编程基础–第1节-第一个win32软件\" class=\"headerlink\" title=\"Windows编程基础–第1节  第一个win32软件\"></a>Windows编程基础–第1节  第一个win32软件</h1><p>下面新建一个win32程序，来演示win32程序开发的原理<br>（操作系统：win10 64位    IDE：vc++ 6.0）<br> 1、执行File -&gt; new命令，来新建一个工程，如下图：<br> <img src=\"http://img.blog.csdn.net/20171017222046015?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br> 2、点击 OK按钮，然后选择A simple win32 application，单击Finish完成创建；<br> <img src=\"http://img.blog.csdn.net/20171017222259506?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>3、此时右边项目视图会显示我们刚才创建好的项目，双击Globals下面的WinMain函数<br> <img src=\"http://img.blog.csdn.net/20171017222422511?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br> 4、现在来新建一个简单的对话框</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MessageBox(NULL,&quot;Hello World!!&quot;,&quot;My First Win32 App&quot;,MB_OK);</span><br></pre></td></tr></table></figure>\n<p><img src=\"http://img.blog.csdn.net/20171017223030168?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>5、单击状态栏上的 “build”，或者直接按<F7>键进行编译，然后单击状态栏的 ！ 来运行程序，或者ctrl+F5;<br><img src=\"http://img.blog.csdn.net/20171017223404504?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>以下是MessageBox的原型：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int WINAPI MessageBox(</span><br><span class=\"line\">  HWND hWnd,          // handle of owner window</span><br><span class=\"line\">  LPCTSTR lpText,     // address of text in message box</span><br><span class=\"line\">  LPCTSTR lpCaption, // address of title of message box</span><br><span class=\"line\">  UINT uType          // style of message box</span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n<p>hWnd是消息框的拥有窗口。如果此参数为NULL，则消息框没有拥有窗口。<br>lpText为消息框的内容。<br>lpCaption为消息框的标题。<br>uType指定一个决定对话框的内容和行为（按钮、图标、形态及其他）的位标志集。<br>附其它常用属性 </p>\n<p>系统默认图标，可在消息框上显示<br>X错误 MB_ICONHAND, MB_ICONSTOP, and MB_ICONERROR<br>?询问 MB_ICONQUESTION<br>!警告 MB_ICONEXCLAMATION and MB_ICONWARNING<br>i信息 MB_ICONASTERISK and MB_ICONINFORMATION </p>\n<p>按钮的形式 </p>\n<p>MB_OK 默认<br>MB_OKCANCEL 确定取消<br>MB_YESNO 是否<br>MB_YESNOCANCEL 是否取消 </p>\n<p>返回值 </p>\n<p>IDCANCEL 取消被选<br>IDNO 否被选<br>IDOK 确定被选<br>IDYES 是被选<br>6、对照函数说明，我们可以简单根据对话框返回值来执行不同的代码，如图：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &quot;stdafx.h&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">int APIENTRY WinMain(HINSTANCE hInstance,</span><br><span class=\"line\">                     HINSTANCE hPrevInstance,</span><br><span class=\"line\">                     LPSTR     lpCmdLine,</span><br><span class=\"line\">                     int       nCmdShow)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"> \t// TODO: Place code here.</span><br><span class=\"line\">\tint ret = MessageBox(NULL,&quot;Hello World!!&quot;,&quot;My First Win32 App&quot;,MB_OKCANCEL );</span><br><span class=\"line\">\tif(IDCANCEL == ret)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tMessageBox(NULL,&quot;CANCEL is clicked&quot;,&quot;My First Win32 App&quot;,MB_OK);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\telse if(IDOK  == ret)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tMessageBox(NULL,&quot;OK is clicked&quot;,&quot;My First Win32 App&quot;,MB_OK);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\treturn 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"http://img.blog.csdn.net/20171017225111741?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<p>项目源码可以访问我的码云来fork：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://gitee.com/AmuUncle/MFC_CSDN.git</span><br></pre></td></tr></table></figure>","text":"Windows编程基础–第1节 第一个win32软件下面新建一个win32程序，来演示win32程序开发的原理（操作系统：win10 64位 IDE：vc++ ...","permalink":"/post/MFC/MFC01","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"MFC从入门到放弃","slug":"MFC从入门到放弃","count":15,"path":"api/categories/MFC从入门到放弃.json"}],"tags":[{"name":"MFC","slug":"MFC","count":15,"path":"api/tags/MFC.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Windows%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80%E2%80%93%E7%AC%AC1%E8%8A%82-%E7%AC%AC%E4%B8%80%E4%B8%AAwin32%E8%BD%AF%E4%BB%B6\"><span class=\"toc-text\">Windows编程基础–第1节  第一个win32软件</span></a></li></ol>","author":{"name":"阿木大叔","slug":"blog-author","avatar":"/images/base/logo.png","link":"/","description":"坚持code，努力吹牛 <br /> @ <b>gitee：阿木大叔</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Windows编程基础--第2节 win32程序资源管理","uid":"3f633bfafeec92d57d809cdb658962e5","slug":"MFC/MFC02","date":"2017-10-28T14:55:13.000Z","updated":"2023-05-19T05:34:19.701Z","comments":true,"path":"api/articles/MFC/MFC02.json","keywords":null,"cover":[],"text":"Windows编程基础–第2节 win32程序资源管理（操作系统：win10 64位 IDE：vc++ 6.0）windows程序都有自己的资源，例如按钮，图标...","permalink":"/post/MFC/MFC02","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"MFC从入门到放弃","slug":"MFC从入门到放弃","count":15,"path":"api/categories/MFC从入门到放弃.json"}],"tags":[{"name":"MFC","slug":"MFC","count":15,"path":"api/tags/MFC.json"}],"author":{"name":"阿木大叔","slug":"blog-author","avatar":"/images/base/logo.png","link":"/","description":"坚持code，努力吹牛 <br /> @ <b>gitee：阿木大叔</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{}}