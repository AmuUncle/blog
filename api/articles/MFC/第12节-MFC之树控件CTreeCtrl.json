{"title":"第12节 MFC之树控件CTreeCtrl","uid":"38d440139df1f611dc7be067d5f7cb2f","slug":"MFC/第12节-MFC之树控件CTreeCtrl","date":"2017-10-30T13:42:36.000Z","updated":"2023-05-19T05:34:20.888Z","comments":true,"path":"api/articles/MFC/第12节-MFC之树控件CTreeCtrl.json","keywords":null,"cover":[],"content":"<blockquote>\n<p>树形控件（Tree Control）：用来显示一系列项目的层次关系，最典型的例子是显示磁盘上的文件与文件夹。如果有子项目的话，单击树形控件中的项目可以展开或者收缩其子项目。MFC提供了CTreeCtrl类进行支持。</p>\n</blockquote>\n<p>树控件在windows程序中使用相对也是比较多的控件，例如windows资源管理器左边的浏览视图就是个树控件视图：<br><img src=\"http://img.blog.csdn.net/20171030202704102?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>今天我们学习一下使用树控件，实现“添加节点”、“删除节点”、“修改节点”；</p>\n<h2 id=\"1-新建项目\"><a href=\"#1-新建项目\" class=\"headerlink\" title=\"1. 新建项目\"></a>1. 新建项目</h2><p>新建一个基于对话框项目“day14”，布局如下，自行处理：<br><img src=\"http://img.blog.csdn.net/20171030203600767?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<table>\n<thead>\n<tr>\n<th>控件名</th>\n<th align=\"right\">控件ID</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Tree Control</td>\n<td align=\"right\">IDC_TREE_VIEW</td>\n</tr>\n<tr>\n<td>编辑框</td>\n<td align=\"right\">IDC_EDIT_ADD_MDY</td>\n</tr>\n<tr>\n<td>添加节点</td>\n<td align=\"right\">IDC_BUTTON_ADD</td>\n</tr>\n<tr>\n<td>删除节点</td>\n<td align=\"right\">IDC_BUTTON_DEL</td>\n</tr>\n<tr>\n<td>修改节点</td>\n<td align=\"right\">IDC_BUTTON_MDY</td>\n</tr>\n</tbody></table>\n<h2 id=\"2-设置树控件属性\"><a href=\"#2-设置树控件属性\" class=\"headerlink\" title=\"2. 设置树控件属性\"></a>2. 设置树控件属性</h2><p>编辑树控件如下属性：</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>修改值</th>\n<th align=\"right\">解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Has Buttons</td>\n<td>TRUE</td>\n<td align=\"right\">在父节点旁边显示+或-</td>\n</tr>\n<tr>\n<td>Has Lines</td>\n<td>TRUE</td>\n<td align=\"right\">在父节点和子节点之间划线</td>\n</tr>\n<tr>\n<td>Line At root</td>\n<td>TRUE</td>\n<td align=\"right\">在根节点上划线</td>\n</tr>\n</tbody></table>\n<h2 id=\"3-添加树控件变量\"><a href=\"#3-添加树控件变量\" class=\"headerlink\" title=\"3. 添加树控件变量\"></a>3. 添加树控件变量</h2><p>给树控件添加一个变量“m_tree”，如图：<br><img src=\"http://img.blog.csdn.net/20171030204858144?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"4-实现添加节点按钮函数\"><a href=\"#4-实现添加节点按钮函数\" class=\"headerlink\" title=\"4. 实现添加节点按钮函数\"></a>4. 实现添加节点按钮函数</h2><p>双击“添加节点”按钮，编辑按钮点击方法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void Cday14Dlg::OnBnClickedButtonAdd()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t// TODO: 在此添加控件通知处理程序代码</span><br><span class=\"line\">\tCString strText;</span><br><span class=\"line\">\tGetDlgItemText(IDC_EDIT_ADD_MDY,strText);</span><br><span class=\"line\">\tif (strText.GetLength() == 0)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tAfxMessageBox(_T(&quot;请输入节点名！&quot;));</span><br><span class=\"line\">\t\treturn;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tHTREEITEM hItem = m_tree.GetSelectedItem();</span><br><span class=\"line\">\tif(hItem == NULL)&#123;</span><br><span class=\"line\">\t\thItem = TVI_ROOT;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tTVINSERTSTRUCT ts =&#123;0&#125;;</span><br><span class=\"line\">\tts.hParent = hItem;</span><br><span class=\"line\">\tts.hInsertAfter = TVI_LAST;</span><br><span class=\"line\">\tts.item.pszText = strText.GetBuffer();</span><br><span class=\"line\">\tts.item.mask = TVIF_TEXT;</span><br><span class=\"line\">\tHTREEITEM hNewItem = m_tree.InsertItem(&amp;ts);</span><br><span class=\"line\">\tm_tree.SelectItem(hNewItem);</span><br><span class=\"line\">\tm_tree.EnsureVisible(hNewItem);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>代码解释：</p>\n<blockquote>\n<ol>\n<li>先获取文本框中的值，如果值为空，则提示用户输入；</li>\n<li>获取当前选中的节点，若不存在选中的节点，则获取根节点；</li>\n<li>创建节点结构体，设置其父节点，插入方式，节点内容，内容可见等；</li>\n<li>插入新的节点，并且设置节点保证可见；<br>效果图：<br><img src=\"http://img.blog.csdn.net/20171030211143052?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></li>\n</ol>\n</blockquote>\n<h2 id=\"5-实现删除节点按钮函数\"><a href=\"#5-实现删除节点按钮函数\" class=\"headerlink\" title=\"5. 实现删除节点按钮函数\"></a>5. 实现删除节点按钮函数</h2><p>双击“删除节点”按钮，编辑按钮点击方法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void Cday14Dlg::OnBnClickedButtonDel()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t// TODO: 在此添加控件通知处理程序代码</span><br><span class=\"line\">\tHTREEITEM hItem = m_tree.GetSelectedItem();</span><br><span class=\"line\">\tif(hItem == NULL)&#123;</span><br><span class=\"line\">\t\tAfxMessageBox(_T(&quot;请选择要删除的节点！&quot;));</span><br><span class=\"line\">\t\treturn;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tHTREEITEM hParentItem = m_tree.GetParentItem(hItem);</span><br><span class=\"line\">\tm_tree.DeleteItem(hItem);</span><br><span class=\"line\">\tm_tree.SelectItem(hParentItem);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>代码解释：</p>\n<blockquote>\n<ol>\n<li>获取选中的节点，若没有选中的节点，则提示用户；</li>\n<li>获取选中节点的父节点</li>\n<li>删除选中的节点</li>\n<li>将其父节点设置为选中节点</li>\n</ol>\n</blockquote>\n<p>删除前：<br><img src=\"http://img.blog.csdn.net/20171030211100130?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>删除后：<br><img src=\"http://img.blog.csdn.net/20171030211117156?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"6-实现修改节点按钮函数\"><a href=\"#6-实现修改节点按钮函数\" class=\"headerlink\" title=\"6. 实现修改节点按钮函数\"></a>6. 实现修改节点按钮函数</h2><p>双击“修改节点”按钮，编辑按钮点击方法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void Cday14Dlg::OnBnClickedButtonMdy()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t// TODO: 在此添加控件通知处理程序代码</span><br><span class=\"line\">\tHTREEITEM hItem = m_tree.GetSelectedItem();</span><br><span class=\"line\">\tif(hItem == NULL)&#123;</span><br><span class=\"line\">\t\tAfxMessageBox(_T(&quot;请选择要修改的节点！&quot;));</span><br><span class=\"line\">\t\treturn;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\tCString strText;</span><br><span class=\"line\">\tGetDlgItemText(IDC_EDIT_ADD_MDY,strText);</span><br><span class=\"line\">\tif (strText.GetLength() == 0)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tAfxMessageBox(_T(&quot;请输入新的节点名！&quot;));</span><br><span class=\"line\">\t\treturn;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tm_tree.SetItemText(hItem,strText);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>代码解释：</p>\n<blockquote>\n<ol>\n<li>获取选中的节点，若没有选中的节点，则提示用户；</li>\n<li>先获取文本框中的值，如果值为空，则提示用户输入；<br>3.修改文本名</li>\n</ol>\n</blockquote>\n<h2 id=\"7-映射节点选择消息\"><a href=\"#7-映射节点选择消息\" class=\"headerlink\" title=\"7. 映射节点选择消息\"></a>7. 映射节点选择消息</h2><p>我们想实现在点击选择控件是，下方的文本框中自动出现选择节点的文本，那么就要映射节点的选择变化消息：TVN_SELCHANGE，如图添加事件处理函数：<br><img src=\"http://img.blog.csdn.net/20171030212609773?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>编辑事件处理函数：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void Cday14Dlg::OnTvnSelchangedTreeView(NMHDR *pNMHDR, LRESULT *pResult)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tLPNMTREEVIEW pNMTreeView = reinterpret_cast&lt;LPNMTREEVIEW&gt;(pNMHDR);</span><br><span class=\"line\">\t// TODO: 在此添加控件通知处理程序代码</span><br><span class=\"line\"></span><br><span class=\"line\">\tHTREEITEM hItem = m_tree.GetSelectedItem();</span><br><span class=\"line\">\tif(hItem != NULL)&#123;</span><br><span class=\"line\">\t\tCString strText = m_tree.GetItemText(hItem);</span><br><span class=\"line\">\t\tSetDlgItemText(IDC_EDIT_ADD_MDY, strText);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t*pResult = 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>代码解释：</p>\n<blockquote>\n<ol>\n<li>获取选中的节点，若不存在，则略过，不处理；</li>\n<li>获取选中的节点文本，将文本值设置到文本框中；</li>\n</ol>\n</blockquote>\n<p>效果图：<br><img src=\"http://img.blog.csdn.net/20171030213448114?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<p>至此，MFC树控件的简单使用已经结束，其实树控件还有很多属性，比如添加图标，这就到以后的实践中再来学习，附树控件常见属性及方法：</p>\n<h3 id=\"1、树形控件的属性\"><a href=\"#1、树形控件的属性\" class=\"headerlink\" title=\"1、树形控件的属性\"></a>1、树形控件的属性</h3><blockquote>\n<p>TVS_EDITLABELS:允许用户进行节点文本的编辑 TVS_HASBUTTONS:节点左侧添加一个按钮<br>TVS_HASLINES:父节点与子结点出现连线 TVS_LINESATROOT:子节点与根节点之间出现连线<br>TVS_NOTOOLTIPS:结点无动态提示 TVS_SINGLEEXPAND:节点的选中(未选中)t7展开(合拢)同步<br>MFC中以两种形式封装树形控件，一种是树形控件CTreeCtrl，另一种是树形视图控件CTreeView。对于一般的要求，比如在对话框中，使用CTreeCtrl比较方便。在使用树形视图控件时，只需要利用成员函数取得其引用，就可以像树形控件一样方便的使用：<br>CTreeCtrl&amp; GetTreeCtrl( ) const;<br>调用InsertItem函数能够将节点插入树形控件中，并返回插入的项的HTREEITEM。树形控件的插入工作往往是在对话框的OnInitDialog函数中进行，而对于树形视图控件，则是在OnInitUpdate函数中进行。<br>树形控件中的节点数据可以是文本，也可以是图像。节点中使用的图像是和树形控件的图像列表相对应的。在树形控件中使用图像列表是通过使用SetImageList函数来完成。<br>树形控件能产生通告消息，如: TVN_BEGINDRAG开始拖拽 TVN_ITEMEXPANDED节点被展开或收缩<br>其消息映射使用WM_NOTIFI,如： WM_NOTIFI(TVN_BEGINDRAG,IDC_TREECTRL,OnBeginDrag);</p>\n</blockquote>\n<h3 id=\"2、树形控件TVN-BEGINRDRAG消息的响应\"><a href=\"#2、树形控件TVN-BEGINRDRAG消息的响应\" class=\"headerlink\" title=\"2、树形控件TVN_BEGINRDRAG消息的响应\"></a>2、树形控件TVN_BEGINRDRAG消息的响应</h3><blockquote>\n<p>与树形控件有关的、常用的结构是TVITEM、TVINSERTSTRUCT 、NMTREEVIEW(NM_TREEVIEW<br>)。前两个是用于插入节点时使用，而NMTREEVIEW是与树形控件的通告消息相关的结构。<br>当用鼠标左键拖拽树形控件时，控件会发出TVN_BEGINDRAG通告消息；当用鼠标右键拖拽时，则会发出TVN_BEGINRDRAG通告消息。拖拽树形控件时需要使用到IImageList::BeginDrag函数：<br>IImageList::BeginDrag creates a temporary image list that is used for<br>dragging. In response to subsequent WM_MOUSEMOVE messages, you can<br>move the drag image by using IImageList::DragMove. To end the drag<br>operation, you can use IImageList::EndDrag.<br>通常使用CTreeCtrl::CreateDragImage函数创建一个被拖拽节点的图像并返回一个CImageList指针(注意被拖拽的数据节点必须包含图像，否则返回的CImageList指针为空)，然后利用该指针来调用CImageList::BeginDrag函数。除此之外还需要调用CImageList::DragEnter函数锁定、更新窗口，并在指定的位置显示被拖拽的图像：<br>static BOOL PASCAL DragEnter(    CWnd* pWndLock,    CPoint point  );<br>If pWndLock is NULL, this function draws the image in the display<br>context associated with the desktop window, and coordinates are<br>relative to the upper left corner of the screen.<br>注意BeginDrag函数只是在拖拽开始时创建要拖拽的图像，而DragEnter函数则显示该图像。<br>最后调用CWnd::SetCapture函数使后续所有的鼠标输入都发送到当前的CWnd对象而不管鼠标的位置（因为CImageList::DragEnter函数的第一个参数为NULL时表示在与桌面窗口相关的窗口，可以说就是当前程序的框架窗口，但不包括其他应用程序的窗口上显示被拖拽的图像。因此要使得被拖拽的图像在所有的窗口上而不仅仅是应用程序的框架窗口上显示，就需要调用CWnd::SetCapture函数。一旦调用了SetCapture函数，则在当前应用程序的非框架窗口，包括系统菜单上的鼠标按键动作均被发送到当前CWnd<br>对象，直到调用ReleaseCapture为止）。<br>然后就是在鼠标移动的消息响应函数中调用CImageList::DragMove函数移动被拖拽的图像，使之与鼠标的移动位置同步。最后是调用CImageList::DragShowNolock函数隐藏或显示拖拽的图像，但它并不是必须的，也可以不调用，因此之前已经调用过CImageList::DragEnter函数显示拖拽的图像了。当传递true值显示拖拽的图像时，DragShowNolock在这个过程中不像DragEnter函数一样锁定窗口。<br>值得注意的是，在拖拽节点过程中可以使用CTreeCtrl::HitTest函数判断鼠标滑动过程中所经过的点是否位于树形控件的某一个节点之上，如果是，则返回该树形节点的HTREEITEM。此时可以使用CTreeCtrl::SelectDropTarget函数或CTreeCtrl::SelectItem函数来高亮显示该节点。</p>\n</blockquote>\n<h3 id=\"3、树形控件的成员函数\"><a href=\"#3、树形控件的成员函数\" class=\"headerlink\" title=\"3、树形控件的成员函数\"></a>3、树形控件的成员函数</h3><blockquote>\n<p>InsertItem函数插入一个节点，并返回新插入的节点的HTREEITEM。<br>ItemHasChildren函数根据给定的HTREEITEM判断该节点是否存在子节点。<br>GetChildItem函数根据给定的HTREEITEM获取该节点下子节点的HTREEITEM，如果没有子节点，则返回NULL。<br>GetNextSiblingItem函数根据给定的HTREEITEM获取该节点的下一个同级节点。<br>EnsureVisible函数在必要的时候滚动视图列表控件使得其至少部分可见。需要注意的是，在使用TVE_COLLAPSE调用Expand收缩树形控件后不能再调用该函数，否则收缩操作将无效。</p>\n</blockquote>\n<h1 id=\"感伤：WE输了，RNG输了，心碎了。。。\"><a href=\"#感伤：WE输了，RNG输了，心碎了。。。\" class=\"headerlink\" title=\"感伤：WE输了，RNG输了，心碎了。。。\"></a>感伤：WE输了，RNG输了，心碎了。。。</h1><h3 id=\"项目源码可以访问我的码云\"><a href=\"#项目源码可以访问我的码云\" class=\"headerlink\" title=\"项目源码可以访问我的码云\"></a><a href=\"https://gitee.com/AmuUncle/MFC_CSDN.git\">项目源码可以访问我的码云</a></h3><h3 id=\"我的私人博客\"><a href=\"#我的私人博客\" class=\"headerlink\" title=\"&gt;&gt;&gt;我的私人博客&lt;&lt;&lt;\"></a><a href=\"http://blog.amuuncle.site/\">&gt;&gt;&gt;我的私人博客&lt;&lt;&lt;</a></h3>","text":" 树形控件（Tree Control）：用来显示一系列项目的层次关系，最典型的例子是显示磁盘上的文件与文件夹。如果有子项目的话，单击树形控件中的项目可以展开或者...","permalink":"/post/MFC/第12节-MFC之树控件CTreeCtrl","photos":[],"count_time":{"symbolsCount":"5.5k","symbolsTime":"5 mins."},"categories":[{"name":"MFC从入门到放弃","slug":"MFC从入门到放弃","count":15,"path":"api/categories/MFC从入门到放弃.json"}],"tags":[{"name":"MFC","slug":"MFC","count":15,"path":"api/tags/MFC.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">1. 新建项目</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E8%AE%BE%E7%BD%AE%E6%A0%91%E6%8E%A7%E4%BB%B6%E5%B1%9E%E6%80%A7\"><span class=\"toc-text\">2. 设置树控件属性</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-%E6%B7%BB%E5%8A%A0%E6%A0%91%E6%8E%A7%E4%BB%B6%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">3. 添加树控件变量</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-%E5%AE%9E%E7%8E%B0%E6%B7%BB%E5%8A%A0%E8%8A%82%E7%82%B9%E6%8C%89%E9%92%AE%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">4. 实现添加节点按钮函数</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-%E5%AE%9E%E7%8E%B0%E5%88%A0%E9%99%A4%E8%8A%82%E7%82%B9%E6%8C%89%E9%92%AE%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">5. 实现删除节点按钮函数</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-%E5%AE%9E%E7%8E%B0%E4%BF%AE%E6%94%B9%E8%8A%82%E7%82%B9%E6%8C%89%E9%92%AE%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">6. 实现修改节点按钮函数</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#7-%E6%98%A0%E5%B0%84%E8%8A%82%E7%82%B9%E9%80%89%E6%8B%A9%E6%B6%88%E6%81%AF\"><span class=\"toc-text\">7. 映射节点选择消息</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1%E3%80%81%E6%A0%91%E5%BD%A2%E6%8E%A7%E4%BB%B6%E7%9A%84%E5%B1%9E%E6%80%A7\"><span class=\"toc-text\">1、树形控件的属性</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2%E3%80%81%E6%A0%91%E5%BD%A2%E6%8E%A7%E4%BB%B6TVN-BEGINRDRAG%E6%B6%88%E6%81%AF%E7%9A%84%E5%93%8D%E5%BA%94\"><span class=\"toc-text\">2、树形控件TVN_BEGINRDRAG消息的响应</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3%E3%80%81%E6%A0%91%E5%BD%A2%E6%8E%A7%E4%BB%B6%E7%9A%84%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">3、树形控件的成员函数</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%84%9F%E4%BC%A4%EF%BC%9AWE%E8%BE%93%E4%BA%86%EF%BC%8CRNG%E8%BE%93%E4%BA%86%EF%BC%8C%E5%BF%83%E7%A2%8E%E4%BA%86%E3%80%82%E3%80%82%E3%80%82\"><span class=\"toc-text\">感伤：WE输了，RNG输了，心碎了。。。</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%A1%B9%E7%9B%AE%E6%BA%90%E7%A0%81%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE%E6%88%91%E7%9A%84%E7%A0%81%E4%BA%91\"><span class=\"toc-text\">项目源码可以访问我的码云</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%88%91%E7%9A%84%E7%A7%81%E4%BA%BA%E5%8D%9A%E5%AE%A2\"><span class=\"toc-text\">&gt;&gt;&gt;我的私人博客&lt;&lt;&lt;</span></a></li></ol></li></ol>","author":{"name":"阿木大叔","slug":"blog-author","avatar":"/images/base/logo.png","link":"/","description":"坚持code，努力吹牛 <br /> @ <b>gitee：阿木大叔</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"第13节 MFC之图片控件","uid":"33b07364cfa133acbebe1120a6b4e2ef","slug":"MFC/第13节-MFC之图片控件","date":"2017-10-31T14:37:27.000Z","updated":"2023-05-19T05:34:20.889Z","comments":true,"path":"api/articles/MFC/第13节-MFC之图片控件.json","keywords":null,"cover":[],"text":"第13节 MFC之图片控件这节学习两个控件： 图片控件： Picture Control 1. 新建项目新建一个基于对话框项目“day15”，布局如下，自行处理...","permalink":"/post/MFC/第13节-MFC之图片控件","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"MFC从入门到放弃","slug":"MFC从入门到放弃","count":15,"path":"api/categories/MFC从入门到放弃.json"}],"tags":[{"name":"MFC","slug":"MFC","count":15,"path":"api/tags/MFC.json"}],"author":{"name":"阿木大叔","slug":"blog-author","avatar":"/images/base/logo.png","link":"/","description":"坚持code，努力吹牛 <br /> @ <b>gitee：阿木大叔</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"第11节 MFC之列表控件CListCtrl","uid":"a22fef1c02426fa8030849627dae8132","slug":"MFC/第11节-MFC之列表控件CListCtrl","date":"2017-10-29T13:14:48.000Z","updated":"2023-05-19T05:34:20.888Z","comments":true,"path":"api/articles/MFC/第11节-MFC之列表控件CListCtrl.json","keywords":null,"cover":[],"text":"Windows编程基础–第11节 MFC之列表控件CListCtrl在MFC程序中列表控件也是使用很频繁的控件，例如windows的资源管理器就可以用列表控件来...","permalink":"/post/MFC/第11节-MFC之列表控件CListCtrl","photos":[],"count_time":{"symbolsCount":"2.7k","symbolsTime":"2 mins."},"categories":[{"name":"MFC从入门到放弃","slug":"MFC从入门到放弃","count":15,"path":"api/categories/MFC从入门到放弃.json"}],"tags":[{"name":"MFC","slug":"MFC","count":15,"path":"api/tags/MFC.json"}],"author":{"name":"阿木大叔","slug":"blog-author","avatar":"/images/base/logo.png","link":"/","description":"坚持code，努力吹牛 <br /> @ <b>gitee：阿木大叔</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}