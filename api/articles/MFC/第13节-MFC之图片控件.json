{"title":"第13节 MFC之图片控件","uid":"33b07364cfa133acbebe1120a6b4e2ef","slug":"MFC/第13节-MFC之图片控件","date":"2017-10-31T14:37:27.000Z","updated":"2023-05-19T05:34:20.889Z","comments":true,"path":"api/articles/MFC/第13节-MFC之图片控件.json","keywords":null,"cover":[],"content":"<h1 id=\"第13节-MFC之图片控件\"><a href=\"#第13节-MFC之图片控件\" class=\"headerlink\" title=\"第13节 MFC之图片控件\"></a>第13节 MFC之图片控件</h1><p>这节学习两个控件：</p>\n<blockquote>\n<p>图片控件：  Picture Control</p>\n</blockquote>\n<h2 id=\"1-新建项目\"><a href=\"#1-新建项目\" class=\"headerlink\" title=\"1. 新建项目\"></a>1. 新建项目</h2><p>新建一个基于对话框项目“day15”，布局如下，自行处理：<br><img src=\"http://img.blog.csdn.net/20171031214935166?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>拖动一个<strong>Picture Control</strong>控件到界面，其实Picture Control就是CStatic 类；</p>\n<p>设置<strong>Picture Control</strong>的如下属性：</p>\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>修改值</th>\n<th align=\"right\">解释</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ID</td>\n<td>IDC_STATIC_IMG</td>\n<td align=\"right\">控件ID</td>\n</tr>\n<tr>\n<td>Type</td>\n<td>Bitmap</td>\n<td align=\"right\">设置类型为bitmap位图类型</td>\n</tr>\n<tr>\n<td>如图：<img src=\"http://img.blog.csdn.net/20171031215325005?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></td>\n<td></td>\n<td align=\"right\"></td>\n</tr>\n</tbody></table>\n<h2 id=\"2-添加Bitmap-位图资源\"><a href=\"#2-添加Bitmap-位图资源\" class=\"headerlink\" title=\"2.添加Bitmap 位图资源\"></a>2.添加Bitmap 位图资源</h2><p>自行下载几张.bmp位图，拷贝到项目的res文件下，然后切换到资源视图，添加Bitmap 资源，如图所示：<br><img src=\"http://img.blog.csdn.net/20171031220313389?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><img src=\"http://img.blog.csdn.net/20171031220321254?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br><img src=\"http://img.blog.csdn.net/20171031220331105?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>上传完成之后可以看到已经有三个Bitmap 位图的ID；<br><img src=\"http://img.blog.csdn.net/20171031220405693?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"3-显示出位图资源\"><a href=\"#3-显示出位图资源\" class=\"headerlink\" title=\"3.显示出位图资源\"></a>3.显示出位图资源</h2><p>单击<strong>Picture Control</strong>控件，在属性中找到Image属性，在下拉框中选择我们刚才添加的位图ID就可以成功显示图片了，如图：<br><img src=\"http://img.blog.csdn.net/20171031220811037?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"4-动态控制显示图片\"><a href=\"#4-动态控制显示图片\" class=\"headerlink\" title=\"4.动态控制显示图片\"></a>4.动态控制显示图片</h2><p>在界面上添加一个按钮，我么通过按钮来切换界面图片显示：<br><img src=\"http://img.blog.csdn.net/20171031221205220?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>接下来我们添加<strong>Picture Control</strong>控件的变量m_image，如图:<br><img src=\"http://img.blog.csdn.net/20171031221246177?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"><br>我们来编辑“切换按钮”的点击方法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void Cday15Dlg::OnBnClickedButtonChange()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t// TODO: 在此添加控件通知处理程序代码</span><br><span class=\"line\">\tHBITMAP phBmp = (HBITMAP)LoadImage(NULL,_T(&quot;.\\\\res\\\\20171031100114614.bmp&quot;),IMAGE_BITMAP,0,0,LR_LOADFROMFILE);</span><br><span class=\"line\">\tm_image.SetBitmap(phBmp);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>代码解释：</p>\n<blockquote>\n<ol>\n<li>获取一个位图的句柄<br>2.将其设置到<strong>Picture Control</strong>控件</li>\n</ol>\n</blockquote>\n<p>效果图：<br><img src=\"http://img.blog.csdn.net/20171031222147848?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<h2 id=\"5-配合CFileDialog-类来选择显示图片\"><a href=\"#5-配合CFileDialog-类来选择显示图片\" class=\"headerlink\" title=\"5.配合CFileDialog 类来选择显示图片\"></a>5.配合CFileDialog 类来选择显示图片</h2><p>我们来编辑“切换按钮”的点击方法：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void Cday15Dlg::OnBnClickedButtonChange()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t// TODO: 在此添加控件通知处理程序代码</span><br><span class=\"line\">\tCFileDialog dlg(TRUE,NULL,NULL,OFN_FILEMUSTEXIST,_T(&quot;*.bmp|*.bmp&quot;),this);</span><br><span class=\"line\">\tif (dlg.DoModal() == IDOK)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tHBITMAP phBmp = (HBITMAP)LoadImage(NULL,dlg.GetPathName(),IMAGE_BITMAP,0,0,LR_LOADFROMFILE);</span><br><span class=\"line\">\t\tm_image.SetBitmap(phBmp);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>代码解释：</p>\n<blockquote>\n<ol>\n<li>创建一个.bmp类型的文件打开对话框</li>\n<li>若点击确定按钮，则将选择的.bmp文件显示出来；</li>\n</ol>\n</blockquote>\n<p>效果图：<br><img src=\"http://img.blog.csdn.net/20171031223111658?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjU1NDkzMDk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" alt=\"这里写图片描述\"></p>\n<p>附<strong>Picture Control</strong>控件常见属性及方法：</p>\n<h3 id=\"一、图片控件属性\"><a href=\"#一、图片控件属性\" class=\"headerlink\" title=\"一、图片控件属性\"></a>一、图片控件属性</h3><blockquote>\n<p>Picture Control 属性: Type:Frame &#x2F;&#x2F;框架 Type:Etched Horz水平蚀刻线条 Type:Etched<br>Vert垂真蚀刻线条 Type:Rectangle实心矩形 Type:Bitmap位图 Type:Icon  图标<br>Type:Enhanced Metafile 增强图元 支持wmf格式图片 Type:Owner Draw   自绘图 Color:颜色<br>    Black:黑<br>    Gray:灰色<br>    White:白色<br>    Etched:蚀刻</p>\n</blockquote>\n<h3 id=\"二、Picture-Control-控件类\"><a href=\"#二、Picture-Control-控件类\" class=\"headerlink\" title=\"二、Picture Control 控件类\"></a>二、Picture Control 控件类</h3><blockquote>\n<p>CStatic:: SetBitmap Specifies a bitmap to be displayed in the static<br>control. GetBitmap Retrieves the handle of the bitmap previously set<br>with SetBitmap.</p>\n<p>SetIcon Specifies an icon to be displayed in the static control.<br>GetIcon Retrieves the handle of the icon previously set with SetIcon.</p>\n<p>SetCursor Specifies a cursor image to be displayed in the static<br>control. GetCursor Retrieves the handle of the cursor image previously<br>set with SetCursor.</p>\n<p>SetEnhMetaFile Specifies an enhanced metafile to be displayed in the<br>static control. GetEnhMetaFile Retrieves the handle of the enhanced<br>metafile previously set with SetEnhMetaFile</p>\n</blockquote>\n<h3 id=\"项目源码可以访问我的码云\"><a href=\"#项目源码可以访问我的码云\" class=\"headerlink\" title=\"项目源码可以访问我的码云\"></a><a href=\"https://gitee.com/AmuUncle/MFC_CSDN.git\">项目源码可以访问我的码云</a></h3><h3 id=\"我的私人博客\"><a href=\"#我的私人博客\" class=\"headerlink\" title=\"&gt;&gt;&gt;我的私人博客&lt;&lt;&lt;\"></a><a href=\"http://blog.amuuncle.site/\">&gt;&gt;&gt;我的私人博客&lt;&lt;&lt;</a></h3>","text":"第13节 MFC之图片控件这节学习两个控件： 图片控件： Picture Control 1. 新建项目新建一个基于对话框项目“day15”，布局如下，自行处理...","permalink":"/post/MFC/第13节-MFC之图片控件","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"MFC从入门到放弃","slug":"MFC从入门到放弃","count":15,"path":"api/categories/MFC从入门到放弃.json"}],"tags":[{"name":"MFC","slug":"MFC","count":15,"path":"api/tags/MFC.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%AC%AC13%E8%8A%82-MFC%E4%B9%8B%E5%9B%BE%E7%89%87%E6%8E%A7%E4%BB%B6\"><span class=\"toc-text\">第13节 MFC之图片控件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">1. 新建项目</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E6%B7%BB%E5%8A%A0Bitmap-%E4%BD%8D%E5%9B%BE%E8%B5%84%E6%BA%90\"><span class=\"toc-text\">2.添加Bitmap 位图资源</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-%E6%98%BE%E7%A4%BA%E5%87%BA%E4%BD%8D%E5%9B%BE%E8%B5%84%E6%BA%90\"><span class=\"toc-text\">3.显示出位图资源</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-%E5%8A%A8%E6%80%81%E6%8E%A7%E5%88%B6%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87\"><span class=\"toc-text\">4.动态控制显示图片</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-%E9%85%8D%E5%90%88CFileDialog-%E7%B1%BB%E6%9D%A5%E9%80%89%E6%8B%A9%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87\"><span class=\"toc-text\">5.配合CFileDialog 类来选择显示图片</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E5%9B%BE%E7%89%87%E6%8E%A7%E4%BB%B6%E5%B1%9E%E6%80%A7\"><span class=\"toc-text\">一、图片控件属性</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81Picture-Control-%E6%8E%A7%E4%BB%B6%E7%B1%BB\"><span class=\"toc-text\">二、Picture Control 控件类</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%A1%B9%E7%9B%AE%E6%BA%90%E7%A0%81%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE%E6%88%91%E7%9A%84%E7%A0%81%E4%BA%91\"><span class=\"toc-text\">项目源码可以访问我的码云</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%88%91%E7%9A%84%E7%A7%81%E4%BA%BA%E5%8D%9A%E5%AE%A2\"><span class=\"toc-text\">&gt;&gt;&gt;我的私人博客&lt;&lt;&lt;</span></a></li></ol></li></ol></li></ol>","author":{"name":"阿木大叔","slug":"blog-author","avatar":"/images/base/logo.png","link":"/","description":"坚持code，努力吹牛 <br /> @ <b>gitee：阿木大叔</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"第14节 MFC之文件对话框CFileDialog","uid":"236b306ed30598f9de558dada84c87a9","slug":"MFC/第14节-MFC之文件对话框CFileDialog","date":"2017-11-01T13:49:20.000Z","updated":"2023-05-19T05:34:20.889Z","comments":true,"path":"api/articles/MFC/第14节-MFC之文件对话框CFileDialog.json","keywords":null,"cover":[],"text":"第14节 MFC之文件对话框CFileDialog 今天我们学习两个打开文件对话框、保存文件对话框，应用程序难免需要加载文件，或者打开配置文件等，这就用到打开或...","permalink":"/post/MFC/第14节-MFC之文件对话框CFileDialog","photos":[],"count_time":{"symbolsCount":"2.4k","symbolsTime":"2 mins."},"categories":[{"name":"MFC从入门到放弃","slug":"MFC从入门到放弃","count":15,"path":"api/categories/MFC从入门到放弃.json"}],"tags":[{"name":"MFC","slug":"MFC","count":15,"path":"api/tags/MFC.json"}],"author":{"name":"阿木大叔","slug":"blog-author","avatar":"/images/base/logo.png","link":"/","description":"坚持code，努力吹牛 <br /> @ <b>gitee：阿木大叔</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"第12节 MFC之树控件CTreeCtrl","uid":"38d440139df1f611dc7be067d5f7cb2f","slug":"MFC/第12节-MFC之树控件CTreeCtrl","date":"2017-10-30T13:42:36.000Z","updated":"2023-05-19T05:34:20.888Z","comments":true,"path":"api/articles/MFC/第12节-MFC之树控件CTreeCtrl.json","keywords":null,"cover":[],"text":" 树形控件（Tree Control）：用来显示一系列项目的层次关系，最典型的例子是显示磁盘上的文件与文件夹。如果有子项目的话，单击树形控件中的项目可以展开或者...","permalink":"/post/MFC/第12节-MFC之树控件CTreeCtrl","photos":[],"count_time":{"symbolsCount":"5.5k","symbolsTime":"5 mins."},"categories":[{"name":"MFC从入门到放弃","slug":"MFC从入门到放弃","count":15,"path":"api/categories/MFC从入门到放弃.json"}],"tags":[{"name":"MFC","slug":"MFC","count":15,"path":"api/tags/MFC.json"}],"author":{"name":"阿木大叔","slug":"blog-author","avatar":"/images/base/logo.png","link":"/","description":"坚持code，努力吹牛 <br /> @ <b>gitee：阿木大叔</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}