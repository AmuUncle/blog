{"title":"QGraphicsDropShadowEffect的介绍","uid":"3c79f2443ad6c8142d688bf19c36b2ad","slug":"Qt/进阶教程/QGraphicsDropShadowEffect的介绍","date":"2021-10-04T03:34:06.000Z","updated":"2023-05-19T05:34:19.747Z","comments":true,"path":"api/articles/Qt/进阶教程/QGraphicsDropShadowEffect的介绍.json","keywords":null,"cover":null,"content":"<h1 id=\"QGraphicsDropShadowEffect的介绍\"><a href=\"#QGraphicsDropShadowEffect的介绍\" class=\"headerlink\" title=\"QGraphicsDropShadowEffect的介绍\"></a>QGraphicsDropShadowEffect的介绍</h1><p>QGraphicsDropShadowEffect是Qt中一个用于添加阴影效果的图形特效类，可以在图形或控件周围添加一层阴影效果。通过调整阴影的偏移、模糊度、颜色等参数，可以实现各种独特的视觉效果。</p>\n<h2 id=\"基本用法\"><a href=\"#基本用法\" class=\"headerlink\" title=\"基本用法\"></a>基本用法</h2><h3 id=\"添加阴影\"><a href=\"#添加阴影\" class=\"headerlink\" title=\"添加阴影\"></a>添加阴影</h3><p>首先，在需要添加阴影效果的QWidget（或QGraphicsItem）对象上创建QGraphicsDropShadowEffect对象：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">QGraphicsDropShadowEffect *shadow = <span class=\"keyword\">new</span> <span class=\"built_in\">QGraphicsDropShadowEffect</span>(<span class=\"keyword\">this</span>);</span><br></pre></td></tr></table></figure>\n\n<p>然后，通过调整阴影效果的参数来实现不同的视觉效果。例如，以下代码将启用5个像素的模糊和45度向右下方的十六进制黑色阴影：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">shadow-&gt;<span class=\"built_in\">setBlurRadius</span>(<span class=\"number\">5</span>);</span><br><span class=\"line\">shadow-&gt;<span class=\"built_in\">setOffset</span>(<span class=\"number\">3</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">shadow-&gt;<span class=\"built_in\">setColor</span>(<span class=\"built_in\">QColor</span>(<span class=\"string\">&quot;#000000&quot;</span>));</span><br></pre></td></tr></table></figure>\n\n<p>将QGraphicsDropShadowEffect应用到相应的QWidget（或QGraphicsItem）对象上：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">myWidget-&gt;<span class=\"built_in\">graphicsEffect</span>() = shadow;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"常用函数\"><a href=\"#常用函数\" class=\"headerlink\" title=\"常用函数\"></a>常用函数</h3><p>QGraphicsDropShadowEffect提供了许多常见的方法以便对阴影进行设置和管理。例如：</p>\n<ul>\n<li><code>setBlurRadius()</code>：设置阴影的模糊半径。</li>\n<li><code>setOffset()</code>：设置阴影相对于原始控件的偏移量。</li>\n<li><code>setColor()</code>：设置阴影颜色。</li>\n<li><code>setOpacity()</code>：设置阴影透明度。</li>\n<li><code>setEnabled()</code>：启用或禁用阴影效果。</li>\n<li><code>boundingRectFor()</code>：计算产生的阴影下降Qt应用程序的范围。</li>\n</ul>\n<h3 id=\"设置形状\"><a href=\"#设置形状\" class=\"headerlink\" title=\"设置形状\"></a>设置形状</h3><p>如果需要将阴影限制在边框内，可以通过普通的设置形状来实现。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">QGraphicsDropShadowEffect *shadow = <span class=\"keyword\">new</span> <span class=\"built_in\">QGraphicsDropShadowEffect</span>(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">QPainterPath path;</span><br><span class=\"line\">path.<span class=\"built_in\">addRoundedRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"built_in\">width</span>(), <span class=\"built_in\">height</span>(), <span class=\"number\">10</span>, <span class=\"number\">10</span>);</span><br><span class=\"line\">shadow-&gt;<span class=\"built_in\">setBlurRadius</span>(<span class=\"number\">20</span>);</span><br><span class=\"line\">shadow-&gt;<span class=\"built_in\">setColor</span>(<span class=\"built_in\">QColor</span>(<span class=\"string\">&quot;#000000&quot;</span>));</span><br><span class=\"line\">shadow-&gt;<span class=\"built_in\">setOffset</span>(<span class=\"number\">5</span>,<span class=\"number\">5</span>);</span><br><span class=\"line\"><span class=\"built_in\">setGraphicsEffect</span>(shadow);</span><br><span class=\"line\"><span class=\"built_in\">setMask</span>(path.<span class=\"built_in\">toFillPolygon</span>().<span class=\"built_in\">toPolygon</span>());</span><br></pre></td></tr></table></figure>\n\n<p>上面代码表示一个圆角矩形的窗口，半径为10像素，向下偏移5个像素，以及黑色颜色和20像素半径的阴影。</p>\n<h2 id=\"结论\"><a href=\"#结论\" class=\"headerlink\" title=\"结论\"></a>结论</h2><p>总之，QGraphicsDropShadowEffect提供了一种简单且灵活的方法来添加阴影效果以改善用户的视觉体验。开发人员可以通过更改阴影效果的参数来实现各种不同的视觉效果，通过对形状进行限制，来满足具体业务场景的需求。在实际应用中，根据需求选择适当的阴影效果参数，并注意不要过度使用阴影效果以免影响应用程序的性能。</p>\n","text":"QGraphicsDropShadowEffect的介绍QGraphicsDropShadowEffect是Qt中一个用于添加阴影效果的图形特效类，可以在图形或...","permalink":"/post/Qt/进阶教程/QGraphicsDropShadowEffect的介绍","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"Qt进阶教程","slug":"Qt进阶教程","count":23,"path":"api/categories/Qt进阶教程.json"}],"tags":[{"name":"Qt","slug":"Qt","count":59,"path":"api/tags/Qt.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#QGraphicsDropShadowEffect%E7%9A%84%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">QGraphicsDropShadowEffect的介绍</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95\"><span class=\"toc-text\">基本用法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B7%BB%E5%8A%A0%E9%98%B4%E5%BD%B1\"><span class=\"toc-text\">添加阴影</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">常用函数</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%AE%BE%E7%BD%AE%E5%BD%A2%E7%8A%B6\"><span class=\"toc-text\">设置形状</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BB%93%E8%AE%BA\"><span class=\"toc-text\">结论</span></a></li></ol></li></ol>","author":{"name":"阿木大叔","slug":"blog-author","avatar":"/images/base/logo.png","link":"/","description":"坚持code，努力吹牛 <br /> @ <b>gitee：阿木大叔</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"使用Qt开发一个登录界面","uid":"e9e9c6fb0e1daf8f843d2ec1b3fc2e05","slug":"Qt/基础教程/使用Qt开发一个登录界面","date":"2021-10-04T03:34:06.000Z","updated":"2023-05-19T05:34:19.709Z","comments":true,"path":"api/articles/Qt/基础教程/使用Qt开发一个登录界面.json","keywords":null,"cover":null,"text":"使用Qt开发一个登录界面在许多应用程序中，我们需要提供一个登录界面来让用户输入用户名和密码，并验证其身份。在本文中，我们将介绍如何使用Qt创建一个简单的登录界面...","permalink":"/post/Qt/基础教程/使用Qt开发一个登录界面","photos":[],"count_time":{"symbolsCount":"4.9k","symbolsTime":"4 mins."},"categories":[{"name":"Qt基础教程","slug":"Qt基础教程","count":19,"path":"api/categories/Qt基础教程.json"}],"tags":[{"name":"Qt","slug":"Qt","count":59,"path":"api/tags/Qt.json"}],"author":{"name":"阿木大叔","slug":"blog-author","avatar":"/images/base/logo.png","link":"/","description":"坚持code，努力吹牛 <br /> @ <b>gitee：阿木大叔</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"QAnimation的介绍","uid":"57a39664d5dfca7343351ad94bd0279c","slug":"Qt/进阶教程/QAnimation的介绍","date":"2021-10-04T03:34:06.000Z","updated":"2023-05-19T05:34:19.710Z","comments":true,"path":"api/articles/Qt/进阶教程/QAnimation的介绍.json","keywords":null,"cover":null,"text":"QAnimation的介绍QAnimation是Qt框架中提供的一个动画类，用于实现GUI控件的各种动画效果。可以通过QAnimation实现如平移、旋转、缩放...","permalink":"/post/Qt/进阶教程/QAnimation的介绍","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"Qt进阶教程","slug":"Qt进阶教程","count":23,"path":"api/categories/Qt进阶教程.json"}],"tags":[{"name":"Qt","slug":"Qt","count":59,"path":"api/tags/Qt.json"}],"author":{"name":"阿木大叔","slug":"blog-author","avatar":"/images/base/logo.png","link":"/","description":"坚持code，努力吹牛 <br /> @ <b>gitee：阿木大叔</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}